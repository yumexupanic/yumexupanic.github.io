<!DOCTYPE html>
<html lang="zh-cmn-Hans" prefix="og: http://ogp.me/ns#" class="han-init">
<head>
  <meta charset="utf-8">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1" />

  <link rel="icon" href="/favicon.ico">
  
  <title>Yume | å¼€æºä½ä»£ç å¼•æ“ Yao ä½“éªŒ</title>
  
<link rel="stylesheet" href="/css/style.css">

  
<link rel="stylesheet" href="/lib/fancybox/jquery.fancybox-1.3.4.css">

  <!--åœ¨è¿™é‡Œå€’å…¥jquery æ–¹ä¾¿å¤„ç†éƒ¨åˆ†é¡µé¢çš„jquery-->
  <script src="https://cdn.staticfile.org/jquery/1.7/jquery.min.js" type="text/javascript" ></script>
<meta name="generator" content="Hexo 6.3.0"></head>

<body>
	<header class="site-header navfixed-false">
  <div class="container">
      <h1><a href="/" title="Yume"><span class="octicon octicon-mark-github"></span> Yume</a></h1>
      <nav class="site-header-nav" role="navigation">
        
              
              <a href="/"  class=" site-header-nav-item hvr-underline-from-center" title="Home">Home</a>
        
              
              <a href="/open-source/"  class=" site-header-nav-item hvr-underline-from-center" title="Open-Source">Open-Source</a>
        
      </nav>
  </div>
</header>

	
<section class="collection-head geopattern" data-pattern-id="å¼€æºä½ä»£ç å¼•æ“ Yao ä½“éªŒ" >
    <div class="container">
        <div class="collection-title">
            <h1 class="collection-header">
                å¼€æºä½ä»£ç å¼•æ“ Yao ä½“éªŒ
            </h1>
            
                <div class="collection-info">
                    <span class="meta-info">
                        <span class="octicon octicon-calendar"></span>
                        <time datetime="2023-05-24T13:52:45.000Z" itemprop="datePublished">2023-05-24</time>
                    </span>
                    
                </div>
            
        </div>
    </div>
</section>
	<section class="container">
    <div class="columns">
        <div class="column  three-fourths " >
            <article class="article-content markdown-body">
                <p>ä»ç”Ÿæˆå¼ ai å‡ºæ¥ä¹‹åï¼Œä½ä»£ç çš„çƒ­æ½®åˆè¢«å¸¦åŠ¨äº†ä¸€æ³¢ã€‚ä½ä»£ç å¯ä»¥å®ç°å°‘å†™ä»£ç ï¼Œæˆ–è€…ä¸å†™ä»£ç çš„æ–¹å¼æ¥æ­å»ºä¸€ä¸ªç¨³å®šå¯ç”¨çš„ç³»ç»Ÿã€‚å¯¹äºä¼ä¸šè€Œè¨€å‡å°‘å¼€å‘æˆæœ¬ã€‚</p>
<p>ä½†æ˜¯å¯¹äºæˆ‘è‡ªå·±æ¥è¯´ï¼Œä¸æ€•éš¾ï¼Œä½†æ€•çƒ¦ã€‚å…¬å¸å†…éƒ¨ä¸šåŠ¡ç³»ç»Ÿè¾ƒå¤šï¼Œå¦‚æœéƒ½è¦è‡ªå·±å®ç° ä¹Ÿæœªå…å¤ªéº»çƒ¦äº†ä¸€ç‚¹ï¼Œäººç”Ÿè‹¦çŸ­ã€‚åº”è¯¥æŠŠæ—¶é—´æ”¾åœ¨æ›´æœ‰æ„ä¹‰çš„äº‹æƒ…ä¸Šã€‚</p>
<p>æœ€è¿‘å…¬å¸å†…éƒ¨éœ€è¦ä¸€ä¸ªä¸šåŠ¡å¹³å°ï¼Œæ¥è®°å½•å’Œç»Ÿè®¡ä¸€äº›æ•°æ®ï¼Œåˆšå¥½å€Ÿç€è¿™ä¸ªæœºä¼šï¼Œå»äº†è§£ä¸€ä¸‹ã€‚</p>
<span id="more"></span>

<p>æˆ‘çš„éœ€æ±‚æ¯”è¾ƒæ˜ç¡®ï¼š</p>
<ul>
<li>åªè€ƒè™‘å¼€æºé¡¹ç›®</li>
<li>éƒ¨ç½²ç®€å•</li>
<li>å®Œå–„çš„é‰´æƒä½“ç³»</li>
</ul>
<p>æœ€ç»ˆæˆ‘æ‰¾åˆ°äº†ä¸€ä¸ªç”¨ golang å®ç°çš„å¼€æºä½ä»£ç å¼•æ“ yaoï¼Œä¸ºä»€ä¹ˆè¯´è¿™æ˜¯ä¸€ä¸ªå¼•æ“ï¼Œè€Œä¸æ˜¯ä¸€ä¸ªä½ä»£ç æ¡†æ¶æˆ–è€…å¹³å°ï¼Ÿå› ä¸ºè¿™ä¸ªå¹¶ä¸æ˜¯åƒ illacloud é‚£æ ·çš„ sass å¹³å°ã€‚å®ƒçš„å®ç°æ–¹å¼æ¯”è¾ƒç‰¹åˆ«ï¼Œæ€»çš„æ¥è¯´æ˜¯åˆ©ç”¨ json åšçš„ DSLï¼Œä»ç•Œé¢åˆ°æ•°æ®å¤„ç† éƒ½æ˜¯é€šè¿‡ json æ¥é…ç½®çš„ï¼Œé™¤äº†è‡ªå®šä¹‰è„šæœ¬ï¼Œè„šæœ¬æ˜¯é€šè¿‡ javascript å®ç°çš„ã€‚</p>
<p><img src="https://imgur-cloud.oss-cn-chengdu.aliyuncs.com/blog/202305241606956.png"></p>
<h2 id="è¸©å‘è®°å½•"><a href="#è¸©å‘è®°å½•" class="headerlink" title="è¸©å‘è®°å½•"></a>è¸©å‘è®°å½•</h2><p>ç¡®å®šäº†å¼€æºé¡¹ç›®ä¹‹åï¼ŒèŠ±äº†ä¸€å¤©çš„æ—¶é—´çœ‹äº† yao å¼•æ“å®˜æ–¹çš„å‡ ä¸ª demo åï¼Œæˆ‘å°±å¼€å§‹ä¸Šæ‰‹äº†ã€‚ä¸è¿‡è¶Šå†™åˆ°åé¢ï¼Œè¶Šå‘ç° DSL å­¦ä¹ æˆæœ¬æœ‰ç‚¹é«˜ã€‚ä¸»è¦å®˜æ–¹çš„æ–‡æ¡£æ²¡æœ‰åŠæ—¶æ›´æ–°ï¼Œæ–‡æ¡£å’Œ demo é‡Œé¢çš„ä»£ç æœ‰äº›åœ°æ–¹å·®è·è¾ƒå¤§ã€‚è¿™é‡Œæµªè´¹äº†ä¸€äº›æ—¶é—´ï¼Œæœ€ç»ˆæˆ‘æ˜¯ fork äº†ä¸€ä»½ä»£ç åˆ°æœ¬åœ°ã€‚çœ‹ç€ golang é‡Œé¢çš„ DSL å®šä¹‰æ¥é…ç½® jsonã€‚</p>
<h3 id="ç™»é™†ä¿¡æ¯è·å–"><a href="#ç™»é™†ä¿¡æ¯è·å–" class="headerlink" title="ç™»é™†ä¿¡æ¯è·å–"></a>ç™»é™†ä¿¡æ¯è·å–</h3><p>yao å¼•æ“çš„ç™»é™†ç³»ç»Ÿå­˜åœ¨ä¸¤ä¸ªé€»è¾‘ï¼Œä¸€ä¸ªæ˜¯å¹³å°è‡ªå·±çš„è´¦å·ï¼Œä¸€ä¸ªæ˜¯ä¸šåŠ¡è‡ªå·±çš„è´¦å·ã€‚å¹³å°çš„è´¦å·å¯ä»¥å«åš adminï¼Œä¸šåŠ¡çš„è´¦å·å«åš userï¼Œè¿™æ˜¯ä¸¤ä¸ªä¸åŒçš„è·¯ç”±ã€‚è¿™é‡Œä¼šæœ‰ä¸€ä¸ªé—®é¢˜ï¼Œç³»ç»Ÿè´¦å·å’Œä¸šåŠ¡è´¦å·ç™»å½•è¿›å»åï¼Œé¡µé¢æ˜¯ä¸€æ ·çš„ï¼Œå¹¶ä¸èƒ½æ§åˆ¶æƒé™ï¼Œåªèƒ½æ§åˆ¶æ•°æ®ï¼ˆå½“ç„¶è¿™ä¸ªè¿‡ç¨‹ä¹Ÿæ¯”è¾ƒéº»çƒ¦ï¼Œåé¢ä¼šå†™å‡ºï¼‰ã€‚</p>
<p>æ‰€ä»¥æˆ‘è¿™é‡Œæ˜¯ç®¡ç†å‘˜ç™»é™†é€»è¾‘å’Œä¸šåŠ¡ç™»é™†é€»è¾‘ä¿æŒä¸€è‡´ã€‚æŠŠ logins æ–‡ä»¶å¤¹ä¸‹é¢çš„ ä¸¤ä¸ªæ–‡ä»¶å†…å®¹ä¿æŒä¸€è‡´å³å¯</p>
<ul>
<li>logins&#x2F;user.login.json</li>
<li>logins&#x2F;admin.login.json</li>
</ul>
<p>ä¸Šé¢è¯´åˆ°çš„æ˜¯ä¸€äº›å°é—®é¢˜ï¼Œæ— ä¼¤å¤§é›…ã€‚æœ€å…³é”®çš„é—®é¢˜æ˜¯ç™»é™†ä¿¡æ¯è·å–è¿™ä¸ªåœ°æ–¹æœ‰ bugï¼Œç”¨æˆ·ç™»é™†å®Œæ¯•ä¹‹åï¼Œä¸€ä¸ªå®Œæ•´çš„ä¸šåŠ¡ç³»ç»Ÿæ˜¯éœ€è¦è·å–åˆ°ç”¨æˆ·ä¿¡æ¯çš„ã€‚è¿™ä¸ªå¼•æ“è™½ç„¶å®ç°äº† session ç›¸å…³çš„æ“ä½œ processï¼Œä½†æ˜¯å¹¶ä¸æ€ä¹ˆå¥½ç”¨ã€‚è®¾ç½®äº†ä¹‹åå–å‡ºæ˜¯ç©ºçš„ã€‚</p>
<pre><code class="jsx">let sid = Process(&quot;session.Start&quot;);
let jwt = Process(
  &quot;xiang.helper.JwtMake&quot;,
  user.id,
  &#123;
    id: user.id,
    role: user.role,
    staff_name: user.staff_name,
    dept_id: user.dept_id,
  &#125;,
  &#123; timeout: 30 * 24 * 60 * 60, sid: sid &#125;
);
delete user.password;

//å…³é”®ä»£ç 
Process(&quot;session.Set&quot;, &quot;user&quot;, user, 30 * 24 * 60 * 60);
</code></pre>
<p>è¿™é‡Œæ˜¯å¤„ç†ç”¨æˆ·ç™»é™†çš„æ ¸å¿ƒä»£ç ï¼Œåœ¨æ ¡éªŒå®Œæ¯•è´¦å·å’Œå¯†ç ä¹‹åï¼Œéœ€è¦åˆ›å»º tokenï¼ˆjwtï¼‰æœ‰æ•ˆæœŸè®¾ç½®ä¸º30å¤©ï¼Œç„¶åç»™åˆ° session å½“ä¸­ã€‚</p>
<p>è¿™æ®µä»£ç æ¯”è¾ƒç®€å•ï¼Œåœ¨ç™»é™†ä¹‹åæŠŠç”¨æˆ·æ•°æ®å­˜å‚¨åˆ° session ä¸­åº”è¯¥å°±å¯ä»¥äº†ã€‚ä½†æ˜¯æˆ‘åœ¨åé¢åˆ°æ­¥éª¤ä¸­ï¼Œä¸€ç›´æ— æ³•è·å–åˆ°æ•°æ®ï¼Œä¸ºç©ºã€‚</p>
<pre><code class="jsx">let user = Process(&quot;session.Get&quot;, &quot;user&quot;);
// user: null
</code></pre>
<p>è¿™é‡Œæµªè´¹äº†å¤§é‡çš„æ—¶é—´ä¹‹åï¼Œæˆ‘æ¢äº†ä¸€ç§å®ç°æ–¹å¼ã€‚çœ‹è§ yao å¼•æ“æœ‰ä¸€ä¸ª store å­˜å‚¨çš„ processï¼Œç›¸å½“äºå­˜å‚¨æ•°æ®åˆ°å†…å­˜ä¸­ã€‚ é‚£ä¹ˆæˆ‘æŠŠç”¨æˆ·ç™»é™†çš„æ•°æ®å’Œ session id å­˜å‚¨åˆ°å†…å­˜ä¸­ä¸å°±å¯ä»¥äº†ï¼Œç›¸å½“äºä¸€ä¸ª mapã€‚</p>
<pre><code class="jsx">let sid = Process(&quot;session.Start&quot;);
new Store(&quot;cache&quot;).Set(sid, user);
</code></pre>
<pre><code class="jsx">//è·å–
let user = new Store(&quot;cache&quot;).Get(Process(&quot;session.ID&quot;), &quot;user&quot;);
//&#123;id: xxx,name:xxx&#125;
</code></pre>
<aside>
ğŸ’¡ è¿™é‡Œä¹Ÿæœ‰ä¸€ä¸ªå‘ï¼Œåé¢ä¼šè¯´åˆ°
</aside>

<h3 id="æ•°æ®æƒé™æ§åˆ¶"><a href="#æ•°æ®æƒé™æ§åˆ¶" class="headerlink" title="æ•°æ®æƒé™æ§åˆ¶"></a>æ•°æ®æƒé™æ§åˆ¶</h3><p>ä¸€ä¸ªä¸šåŠ¡ç³»ç»Ÿï¼Œæ ¹æ®ç”¨æˆ·çš„æƒé™æ¥æ˜¾ç¤ºä¸åŒçš„æ•°æ®æ˜¯ä¸€ä¸ªå¾ˆå¸¸è§çš„éœ€æ±‚ï¼Œè¿™é‡Œä»‹ç»ä¸‹æ–¹æ³•ã€‚</p>
<p>è¿™æ˜¯é»˜è®¤è¡¨æ ¼ä½¿ç”¨çš„ process</p>
<pre><code class="java">Process(&quot;models.user.Paginate&quot;, param, 1, 1000)
</code></pre>
<p>å¦‚æœæˆ‘ä»¬è¦è‡ªå®šä¹‰æ•°æ®æŸ¥è¯¢æ–¹å¼ï¼Œè¿™é‡Œæœ‰ä¸‰ç§æ–¹å¼ã€‚</p>
<p><strong>ä½¿ç”¨ DSL è¯­æ³•å¢åŠ æŸ¥è¯¢æ¡ä»¶</strong></p>
<pre><code class="java">&quot;search&quot;: &#123;
  &quot;default&quot;: [
    &#123;
      &quot;orders&quot;: [&#123; &quot;column&quot;: &quot;event_date&quot;, &quot;option&quot;: &quot;desc&quot; &#125;],
      &quot;user_id[]&quot;: []
    &#125;
  ]
&#125;
</code></pre>
<p>è¿™ç§æ–¹å¼ä¸€èˆ¬æ¥è¯´ï¼Œæ˜¯é¦–é€‰çš„æ–¹å¼ã€‚ä½†æ˜¯æˆ‘å¹¶ä¸æ¨èè¿™æ ·ç”¨ï¼Œé¦–å…ˆæ˜¯ä½†æ˜¯å®˜ç½‘æ–‡æ¡£æ™¦æ¶©éš¾æ‡‚ï¼Œå¹¶æ²¡æœ‰ç»™å‡ºæ›´å¤šçš„ä¾‹å­ ä»¥ä¸Šåªæ˜¯åšäº†ä¸€ä¸ªé»˜è®¤çš„æ’åºæ“ä½œæˆ‘æ‰¾æ–‡æ¡£éƒ½æ‰¾äº†å¾ˆä¹…ï¼Œæœ€ç»ˆè¿˜æ˜¯åœ¨ demo ä¸­çœ‹åˆ°è¿™ç§å†™æ³• ã€‚å¦å¤–è¿™ç§æ–¹å¼å¹¶ä¸èƒ½è®¾ç½®æŸ¥è¯¢æ¡ä»¶é»˜è®¤å€¼ï¼Œå¯èƒ½æ˜¯é€šè¿‡ querystring æ¥æ§åˆ¶ã€‚ä½†æ˜¯ querystring æˆ‘ä»¬æ— æ³•æ§åˆ¶ï¼Œæ˜¯ç³»ç»Ÿå†…éƒ¨çš„è·¯ç”±å¤„ç†çš„ã€‚</p>
<p><strong>ä½¿ç”¨ <code>after:search</code></strong> </p>
<pre><code class="jsx">// å…ˆé…ç½® DSL &quot;after:search&quot;: &quot;scripts.user.AfterSearch&quot;

function AfterSearch(data) &#123;
    //è·å–ç”¨æˆ·æƒé™ 
    let user = new Store(&quot;cache&quot;).Get(Process(&quot;session.ID&quot;), &quot;user&quot;);
    if(user.role == &#39;normal&#39;) &#123;
        //ä¿®æ”¹ data
    &#125;
  return data;
&#125;
</code></pre>
<p>ä½¿ç”¨ hook å‡½æ•°ä¿®æ”¹è¿”å›çš„æ•°æ®ï¼Œä½†æ˜¯è¿™ç§æ–¹å¼ä¼šå¯¼è‡´åˆ†é¡µä¿¡æ¯å¼‚å¸¸ã€‚ä¸æ¨è</p>
<p><strong>é‡å†™æŸ¥è¯¢æ¥å£</strong></p>
<pre><code class="jsx">&quot;search&quot;: &#123;
  &quot;guard&quot;: &quot;bearer-jwt,scripts.user.Guard&quot;,
  &quot;process&quot;: &quot;scripts.wakatime.Search&quot;,
  &quot;default&quot;: [
    &#123;
      &quot;orders&quot;: [&#123; &quot;column&quot;: &quot;event_date&quot;, &quot;option&quot;: &quot;desc&quot; &#125;],
      &quot;user_id[]&quot;: []
    &#125;
  ]
&#125;
</code></pre>
<p>èƒ½çœ‹åˆ°è¿™ä¸€éƒ¨åˆ†çš„ DSL å¤šäº†ä¸€äº›å†…å®¹ï¼Œå…¶ä¸­æœ€å…³é”®çš„æ˜¯ <code>process</code> ï¼Œè¿™é‡Œå®šä¹‰äº†æˆ‘ä»¬å¤„ç†æŸ¥è¯¢çš„ process ç›¸å…³å®ç°å¦‚ä¸‹: </p>
<pre><code class="jsx">function Search(param, page, pageSize) &#123;
  let user = new Store(&quot;cache&quot;).Get(Process(&quot;session.ID&quot;), &quot;user&quot;);
  if (param.wheres) &#123;
    if (user.role == &quot;ç®¡ç†å‘˜&quot;) &#123;
      var query = new Query();
      let users = query.Get(&#123;
        select: [&quot;id&quot;],
        wheres: [
          &#123; &quot;:deleted_at&quot;: &quot;åˆ é™¤&quot;, &quot;=&quot;: null &#125;,
          &#123; field: &quot;dept_id&quot;, op: &quot;=&quot;, value: user.dept_id &#125;,
        ],
        from: &quot;e_user&quot;,
      &#125;);
      let userid = users.map((e) =&gt; e.id);
      param.wheres.push(&#123;
        column: &quot;user_id&quot;,
        op: &quot;in&quot;,
        value: userid,
      &#125;);
    &#125; else &#123;
      param.wheres.push(&#123; column: &quot;user_id&quot;, value: user.id &#125;);
    &#125;
  &#125;

  var data = Process(
    &quot;models.wakatime.Paginate&quot;,
    &#123;
      ...param,
    &#125;,
    page,
    pageSize
  );
  return data;
&#125;
</code></pre>
<p>è¦è®©è¿™æ®µè„šæœ¬æ­£å¸¸çš„æ‰§è¡Œï¼Œè¿˜éœ€è¦ä¸€ä¸ªå…³é”®çš„å‚æ•°ï¼Œä¹Ÿå°±æ˜¯åœ¨ DSL ä¸­çš„è¿™æ®µä»£ç :</p>
<pre><code class="jsx">  &quot;guard&quot;: &quot;bearer-jwt,scripts.user.Guard&quot;,
</code></pre>
<p>ç”±äºç™»å½•ä¿¡æ¯æ— æ³•è·å–ï¼Œæˆ‘è¿™é‡Œä½¿ç”¨çš„æ˜¯ä¼šè¯ç¼“å­˜çš„æ–¹å¼å®ç°ã€‚è¿™é‡Œçš„æ„æ€æ˜¯å¢åŠ äº†ä¸€ä¸ªä¸­é—´ä»¶ï¼Œ<code>bearer-jwt</code> æ˜¯ç³»ç»Ÿé»˜è®¤çš„ï¼Œç¬¬äºŒä¸ªæ˜¯<code>scripts.user.Guard</code> è¿™æ˜¯è‡ªå®šä¹‰çš„æˆæƒï¼Œç›¸å…³å®ç°å¦‚ä¸‹:</p>
<pre><code class="jsx">function Guard(path, params, query, payload, headers) &#123;
  let token = headers.Authorization[0];
  let data = Process(&quot;xiang.helper.JwtValidate&quot;, token.replace(&quot;Bearer &quot;, &quot;&quot;));
  let sid = Process(&quot;session.ID&quot;);
  new Store(&quot;cache&quot;).Set(sid, data.data);
&#125;
</code></pre>
<p>é‚£ä¹ˆæ¯ä¸€æ¬¡è·å–åˆ—è¡¨ä¹‹å‰ï¼Œéƒ½ä¼šå…ˆåˆ°æˆ‘è¿™ä¸ªä¸­é—´ä»¶æ¥ï¼Œè¿™é‡Œä¼šå¤„ç† http è¯·æ±‚ä¸­æºå¸¦çš„æˆæƒä¿¡æ¯ï¼Œæ ¹æ®æˆæƒä¿¡æ¯å–å‡ºç”¨æˆ·ä¿¡æ¯å­˜å‚¨åœ¨ä¼šè¯ç¼“å­˜ä¸­ã€‚</p>
<p>é‚£ä¹ˆä¸ºä»€ä¹ˆè¿™ä¸€æ­¥ä¸èƒ½å†™åœ¨ <code>scripts.wakatime.Search</code> ä¸­ï¼Ÿæˆ‘ä¹Ÿæƒ³è¿™ä¹ˆå¹²ï¼Œä½†æ˜¯åœ¨æŸ¥è¯¢ process ä¸­æ— æ³•è·å–åˆ° token headerã€‚æ‰€ä»¥åªèƒ½å†™ä¸€ä¸ªä¸­é—´ä»¶åœ¨æŸ¥è¯¢ä¹‹å‰å…ˆæŠŠç”¨æˆ·ä¿¡æ¯è·å–åˆ°ï¼Œç„¶ååœ¨æŸ¥è¯¢è„šæœ¬ä¸­ æ ¹æ®ä¼šè¯ ID è·å–ç”¨æˆ·ä¿¡æ¯ã€‚</p>
<aside>
ğŸ’¡ ä¹Ÿå°±æ˜¯è¯´ï¼Œå¦‚æœæœ‰ä»»ä½•éœ€è¦æ§åˆ¶æ•°æ®æƒé™çš„åœ°æ–¹ï¼Œä¸­é—´ä»¶æ˜¯å¿…é¡»å¢åŠ çš„ï¼Œå¦åˆ™æ— æ³•è·å–åˆ°ç”¨æˆ·ä¿¡æ¯ã€‚
</aside>

<h2 id="æºç ç¼–è¯‘"><a href="#æºç ç¼–è¯‘" class="headerlink" title="æºç ç¼–è¯‘"></a>æºç ç¼–è¯‘</h2><p>è¿™ä¸ªå¼•æ“å¹¶ä¸èƒ½æ»¡è¶³æˆ‘çš„éœ€æ±‚ï¼Œå°é—®é¢˜æœ‰ç‚¹å¤šï¼Œ ç³»ç»Ÿå¹¶ä¸èƒ½æ­£å¸¸ä½¿ç”¨çš„ï¼Œèµ·åˆæˆ‘åŠ äº†ä»–ä»¬çš„ç¾¤ï¼Œé—®äº†ä¸‹å¼€å‘äººå‘˜ï¼Œå¹¶ä¸èƒ½å¾ˆå¥½è§£å†³é—®é¢˜ï¼Œæ¯”å¦‚</p>
<ol>
<li>Select é»˜è®¤ç¼“å­˜äº†ï¼Œåªæœ‰åœ¨å¼€å‘ç¯å¢ƒä¸­æ‰ä¸ä¼šç¼“å­˜</li>
<li>Select æ— æ³•æœç´¢</li>
<li>åªèƒ½å¯¼å‡ºæ•°æ®åº“ä¸­çš„è®°å½•ï¼Œä¸èƒ½è¿›è¡Œæ•°æ®å¤„ç†</li>
<li>ç»Ÿè®¡å›¾ é¥¼å›¾æ˜¾ç¤ºçš„æ•°å€¼ä¸æ˜¯æ€»è®¡ï¼Œè€Œæ˜¯æœ€åä¸€æ¡æ•°æ®çš„å€¼</li>
<li>æ— æ³•å»æ‰ç™»å½•éªŒè¯ç </li>
<li>å¼¹çª—ä¿å­˜äº‹ä»¶æœ‰æ—¶å€™ä¼šè§¦å‘å¾ˆå¤šæ¬¡</li>
</ol>
<p>å‰é¢ä¸¤ä¸ª Select çš„é—®é¢˜ 0.10.3 pre å·²ç»è§£å†³äº†ï¼Œåé¢æˆ‘æ›´æ–°äº†ä¸‹æºç ï¼Œå‡†å¤‡è‡ªå·±ä¿®æ”¹åé¢å‡ ä¸ªé—®é¢˜ ï¼Œæºç æ˜¯åŸºäº 0.10.3 pre ç‰ˆæœ¬ã€‚</p>
<p>yao å¼•æ“ä¸»è¦çš„æ ¸å¿ƒåº“æœ‰ä»¥ä¸‹å‡ ä¸ª </p>
<ul>
<li>yao</li>
<li>v8go</li>
<li>xun</li>
<li>kun</li>
<li>xgen</li>
<li>gou</li>
</ul>
<p>æˆ‘è¿™æ¬¡éœ€è¦ä¿®æ”¹çš„ä¸»è¦æ˜¯ yao å’Œ xgen å‰é¢æ˜¯ yao æ ¸å¿ƒåº“ï¼Œxgen åŸºäº react å®ç°çš„å‰ç«¯é¡µé¢ã€‚ </p>
<h3 id="è‡ªå®šä¹‰å¯¼å‡º"><a href="#è‡ªå®šä¹‰å¯¼å‡º" class="headerlink" title="è‡ªå®šä¹‰å¯¼å‡º"></a>è‡ªå®šä¹‰å¯¼å‡º</h3><p>çœ‹äº†ä¸‹å®˜æ–¹çš„å¯¼å‡ºå®ç°ï¼Œåªèƒ½å¯¼å‡º table æ•°æ®ã€‚æˆ‘æƒ³å…ˆä»æ•°æ®åº“ä¸­ç»Ÿè®¡ä¸€äº›æ•°æ®ï¼Œç„¶åå†å¯¼å‡ºï¼Œå¹¶ä¸”ä¼šå¢åŠ ä¸€äº›é¢œè‰²æ ‡è®°ç­‰ã€‚</p>
<blockquote>
<p>å¯¼å‡ºæµç¨‹æ˜¯å…ˆè§¦å‘è„šæœ¬ï¼Œç”Ÿæˆ excel æ–‡ä»¶å¹¶æ”¾å…¥æŒ‡å®šçš„ç›®å½•ï¼Œç„¶åé€šè¿‡ http è¯·æ±‚å»ä¸‹è½½æ–‡ä»¶ã€‚</p>
</blockquote>
<p><strong>æ–°å»ºæ–‡ä»¶</strong> </p>
<p>helper&#x2F;excel.go</p>
<pre><code class="go">package helper

import (
    &quot;encoding/json&quot;
    &quot;fmt&quot;
    &quot;github.com/google/uuid&quot;
    &quot;github.com/xuri/excelize/v2&quot;
    &quot;github.com/yaoapp/gou&quot;
    &quot;github.com/yaoapp/yao/config&quot;
    &quot;path/filepath&quot;
)

type Payload struct &#123;
    Columns []struct &#123;
        Name string `json:&quot;name&quot;`
    &#125; `json:&quot;columns&quot;`
    Data    [][]string `json:&quot;data&quot;`
    Options struct &#123;
        TitleRow   int    `json:&quot;titleRow&quot;`
        ColWidth   int    `json:&quot;colWidth&quot;`
        OtherStyle string `json:&quot;otherStyle&quot;&quot;`
        HeadStyle  string `json:&quot;headStyle&quot;&quot;`
        BodyStyle  string `json:&quot;bodyStyle&quot;&quot;`
    &#125; `json:&quot;options&quot;`
&#125;

func ProcessExcel(process *gou.Process) interface&#123;&#125; &#123;
    process.ValidateArgNums(0)

    body := Payload&#123;&#125;
    json.Unmarshal([]byte(process.ArgsString(0)), &amp;body)

    fmt.Println(body.Options.BodyStyle)
    // åˆ›å»ºä¸€ä¸ªæ–°çš„å·¥ä½œç°¿
    f := excelize.NewFile()

    // åˆ›å»ºä¸€ä¸ªå·¥ä½œè¡¨
    sheetName := &quot;Sheet1&quot;

    var titleStyle = -1
    var bodyStyle = -1
    var otherStyle = -1

    if len(body.Options.HeadStyle) &gt; 0 &#123;
        titleStyle, _ = f.NewStyle(body.Options.HeadStyle)
    &#125;
    if len(body.Options.BodyStyle) &gt; 0 &#123;
        bodyStyle, _ = f.NewStyle(body.Options.BodyStyle)
    &#125;
    if len(body.Options.OtherStyle) &gt; 0 &#123;
        otherStyle, _ = f.NewStyle(body.Options.OtherStyle)
    &#125;

    var titleRow []string

    for _, column := range body.Columns &#123;
        titleRow = append(titleRow, column.Name)
    &#125;

    for i, v := range titleRow &#123;
        cellName, _ := excelize.CoordinatesToCellName(i+1, body.Options.TitleRow)
        f.SetCellValue(sheetName, cellName, v)
        if titleStyle &gt; -1 &#123;
            f.SetCellStyle(sheetName, cellName, cellName, titleStyle)
        &#125;
    &#125;

    if body.Options.TitleRow &gt; 1 &amp;&amp; otherStyle &gt; -1 &#123;
        for i := 0; i &lt; body.Options.TitleRow; i++ &#123;
            for col, _ := range titleRow &#123;
                cellName, _ := excelize.CoordinatesToCellName(col+1, i)
                f.SetCellStyle(sheetName, cellName, cellName, otherStyle)
            &#125;
        &#125;
    &#125;

    numRow := body.Options.TitleRow + 1
    for i, dataRow := range body.Data &#123;
        rowNum := i + numRow // æ•°æ®è¡Œ
        for index, v := range dataRow &#123;
            cellName, _ := excelize.CoordinatesToCellName(index+1, rowNum)
            f.SetCellValue(sheetName, cellName, v)
            if bodyStyle &gt; -1 &#123;
                f.SetCellStyle(sheetName, cellName, cellName, bodyStyle)
            &#125;
        &#125;
    &#125;

    if body.Options.ColWidth &gt; 0 &#123;
        for i := 1; i &lt;= len(body.Data); i++ &#123;
            colName, _ := excelize.ColumnNumberToName(i)
            err := f.SetColWidth(&quot;Sheet1&quot;, colName, colName, float64(body.Options.ColWidth))
            if err != nil &#123;
                fmt.Println(err)
            &#125;
        &#125;
    &#125;

    uuid, _ := uuid.NewRandom()
    filename := fmt.Sprintf(&quot;%s.xlsx&quot;, uuid.String())
    path := filepath.Join(filepath.Join(config.Conf.Root, &quot;data&quot;), filename)
    fmt.Println(path)

    // ä¿å­˜å·¥ä½œç°¿
    if err := f.SaveAs(path); err != nil &#123;
        fmt.Println(err)
    &#125;

    return filename
&#125;
</code></pre>
<p><strong>æ³¨å†Œåˆ°å¤„ç†å™¨</strong></p>
<p>helper&#x2F;process.go</p>
<pre><code class="go">//Excel å¤„ç†å™¨
gou.RegisterProcessHandler(&quot;utils.biz.excel&quot;, ProcessExcel)
</code></pre>
<p><strong>ä½¿ç”¨</strong></p>
<pre><code class="go">//payload å°±æ˜¯æˆ‘éœ€è¦å¯¼å‡ºçš„ä¸šåŠ¡æ•°æ® 
Process(&quot;utils.biz.excel&quot;, JSON.stringify(payload))
</code></pre>
<p><strong>æ•ˆæœ</strong></p>
<p><img src="https://imgur-cloud.oss-cn-chengdu.aliyuncs.com/blog/202305241608869.png"></p>
<h3 id="å¢åŠ ä¸­æ–‡è½¬æ‹¼éŸ³"><a href="#å¢åŠ ä¸­æ–‡è½¬æ‹¼éŸ³" class="headerlink" title="å¢åŠ ä¸­æ–‡è½¬æ‹¼éŸ³"></a>å¢åŠ ä¸­æ–‡è½¬æ‹¼éŸ³</h3><p>ä¸šåŠ¡éœ€è¦æ”¯æŒæ‹¼éŸ³æœç´¢æ•°æ®ï¼Œjs æ±‰å­—è½¬éŸ³é¢‘éœ€è¦å®‰è£…ä¸€äº›åº“ï¼Œv8go æ˜¯ä¸æ”¯æŒçš„ï¼Œæ‰€ä»¥å¯ä»¥æ–°å¢ä¸€ä¸ªå¤„ç†å™¨æ¥åšè¿™ä»¶äº‹æƒ…ã€‚</p>
<p><strong>æ–°å¢æ–‡ä»¶</strong></p>
<p>helper&#x2F;pinyin.go</p>
<pre><code class="go">package helper

import (
    &quot;github.com/mozillazg/go-pinyin&quot;
    &quot;github.com/yaoapp/gou&quot;
)

func ProcessPinYin(process *gou.Process) interface&#123;&#125; &#123;
    process.ValidateArgNums(1)
    hans := process.ArgsString(0)
    args := pinyin.NewArgs()
    return pinyin.LazyPinyin(hans, args)
&#125;
</code></pre>
<p><strong>æ³¨å†Œå¤„ç†å™¨</strong></p>
<pre><code class="go">//è‡ªå®šä¹‰å¢åŠ çš„å¤„ç†å™¨
gou.RegisterProcessHandler(&quot;utils.biz.pinyin&quot;, ProcessPinYin)
</code></pre>
<p><strong>ä½¿ç”¨</strong></p>
<pre><code class="jsx">function save(payload)&#123;
    let py = Process(&quot;utils.biz.pinyin&quot;, payload.project_name);
  payload.pinyin_key = py.join(&quot;&quot;);
  let result = Process(&quot;models.project.save&quot;, payload);
&#125;
</code></pre>
<h3 id="è§£å†³ç»Ÿè®¡å›¾-NumbearChart-å€¼é”™è¯¯"><a href="#è§£å†³ç»Ÿè®¡å›¾-NumbearChart-å€¼é”™è¯¯" class="headerlink" title="è§£å†³ç»Ÿè®¡å›¾ NumbearChart å€¼é”™è¯¯"></a>è§£å†³ç»Ÿè®¡å›¾ NumbearChart å€¼é”™è¯¯</h3><p>è¿™é‡Œçš„å€¼åº”è¯¥æ˜¯ç´¯åŠ çš„åˆï¼Œè€Œä¸æ˜¯æœ€åä¸€ä¸ªæ•°æ®çš„å€¼</p>
<p>ä¿®æ”¹æ–‡ä»¶ï¼š xgen&#x2F;components&#x2F;chart&#x2F;NumberChart&#x2F;index.tsx</p>
<pre><code class="jsx">const total = props.data
.map((e) =&gt; e[props.valueKey || &#39;value&#39;])
.reduce((accumulator, currentValue) =&gt; accumulator + currentValue, 0)

&lt;BaseNumber &#123;...props&#125; number=&#123;total&#125;&gt;&lt;/BaseNumber&gt;
</code></pre>
<p><strong>æ•ˆæœ</strong></p>
<p><img src="https://imgur-cloud.oss-cn-chengdu.aliyuncs.com/blog/202305241608770.png"></p>
<p>å·¦è¾¹çš„æ—¶é—´ä¹‹å‰æ˜¯æœ€åä¸€æ¡æ•°æ®çš„å€¼ã€‚</p>
<h3 id="æ–°çª—å£æ‰“å¼€å-token-æ¶ˆå¤±"><a href="#æ–°çª—å£æ‰“å¼€å-token-æ¶ˆå¤±" class="headerlink" title="æ–°çª—å£æ‰“å¼€å token æ¶ˆå¤±"></a>æ–°çª—å£æ‰“å¼€å token æ¶ˆå¤±</h3><p>åœ¨åŒä¸€ä¸ªæµè§ˆå™¨ä¸Šï¼Œç™»å½•æˆåŠŸä¹‹å å¤åˆ¶åœ°å€é‡æ–°æ‰“å¼€ tab ä¼šå‘ç° token å¤±æ•ˆã€‚å…·ä½“çš„åŸå› æˆ‘æ²¡æœ‰å»æŸ¥ï¼Œä¸ºäº†å¿«é€Ÿè§£å†³é—®é¢˜ï¼Œæˆ‘è¿™é‡Œä½¿ç”¨äº† localStorage æ¥å­˜å‚¨ tokenï¼Œä¿®æ”¹äº† token ç›¸å…³é€»è¾‘ã€‚è¿™ä¸ªé—®é¢˜ç®—æ˜¯æš‚æ—¶è§£å†³äº†ã€‚</p>
<h3 id="Select-è¿œç¨‹æœç´¢å¤ªæ…¢"><a href="#Select-è¿œç¨‹æœç´¢å¤ªæ…¢" class="headerlink" title="Select è¿œç¨‹æœç´¢å¤ªæ…¢"></a>Select è¿œç¨‹æœç´¢å¤ªæ…¢</h3><p>è¿™é‡Œå®˜æ–¹ç”¨äº†ä¸€ä¸ªæŠ–åŠ¨å‡½æ•°ï¼Œä½†æ˜¯å¯¹äºæˆ‘æ¥è¯´ è¿™é‡Œæœ‰ç‚¹å¤ªæ…¢äº†ï¼Œæ‰“å®Œå­—ä¹‹åè¦ç­‰ä¸ªä¸€æ®µæ—¶é—´æ‰å‡ºç»“æœã€‚</p>
<p>ä¿®æ”¹æºç : xgen&#x2F;components&#x2F;edit&#x2F;Select&#x2F;model.ts</p>
<pre><code class="jsx">//line 30 è¿™é‡Œä¹‹å‰æ˜¯ç­‰å¾…äº† 800 ms
target[&#39;onSearch&#39;] = debounce(this.remote.searchOptions, 100, &#123; leading: true &#125;)
</code></pre>
<h3 id="å»æ‰ä¸šåŠ¡åŠ©æ‰‹å’Œç™»å½•éªŒè¯ç "><a href="#å»æ‰ä¸šåŠ¡åŠ©æ‰‹å’Œç™»å½•éªŒè¯ç " class="headerlink" title="å»æ‰ä¸šåŠ¡åŠ©æ‰‹å’Œç™»å½•éªŒè¯ç "></a>å»æ‰ä¸šåŠ¡åŠ©æ‰‹å’Œç™»å½•éªŒè¯ç </h3><p>åœ¨ 0.10.3 pre ç‰ˆæœ¬ä¸­ï¼Œè‡ªå¸¦äº†ä¸šåŠ¡åŠ©æ‰‹ï¼Œå½“æ—¶è¿˜æ²¡æœ‰æ­£å¼å‘å¸ƒï¼Œä½†æ˜¯ä¸šåŠ¡å¹¶ä¸éœ€è¦è¿™ä¸ªä¸œè¥¿ï¼Œæš‚æ—¶æ— æ³•å…³é—­ï¼Œæˆ‘åªæœ‰æŠŠè¿™ä¸ªå…¥å£ç»™åˆ é™¤äº†ã€‚</p>
<p>ä¿®æ”¹æ–‡ä»¶: xgen&#x2F;packages&#x2F;xgen&#x2F;layouts&#x2F;index.tsx</p>
<pre><code class="jsx">è¿™é‡ŒæŠŠ Neo ä¸šåŠ¡åŠ©æ‰‹æ³¨é‡Šå³å¯
&#123;/* &lt;Neo &#123;...props_neo&#125;&gt;&lt;/Neo&gt; */&#125;
</code></pre>
<p>ç™»å½•éªŒè¯ç çš„ç§»é™¤éœ€è¦ä¿®æ”¹ä¸¤ä¸ªåœ°æ–¹ï¼Œä¸€å¤„æ˜¯éªŒè¯å™¨ï¼Œä¸€å¤„æ˜¯è¡¨å•ï¼Œä½†æ˜¯æ”¹åŠ¨æœ‰4ä¸ªæ–‡ä»¶ ã€‚ </p>
<p>ä¿®æ”¹æ–‡ä»¶: </p>
<p>xgen&#x2F;packages&#x2F;xgen&#x2F;pages&#x2F;login&#x2F;model.ts</p>
<pre><code class="jsx">// line 48
async afterLogin(res: ResLogin, err: Utils.ResError) &#123;
        if (err || !res?.token) &#123;
            this.loading.login = false
            // this.getCaptcha()

            return
        &#125;
    ...
&#125;

//line 93
onFinish(data: FormValues) &#123;
        const &#123; mobile, password, code &#125; = data
        const is_email = mobile.indexOf(&#39;@&#39;) !== -1

        if (is_email) &#123;
            if (!reg_email.test(mobile)) &#123;
                return message.warning(this.global.locale_messages.login.form.validate.email)
            &#125;
        &#125; else &#123;
            if (!reg_mobile.test(mobile)) &#123;
                return message.warning(this.global.locale_messages.login.form.validate.mobile)
            &#125;
        &#125;

        // captcha: &#123;
        // 	id: this.captcha.id,
        // 	code
        // &#125;,
        this.login(&#123;
            [is_email ? &#39;email&#39; : &#39;mobile&#39;]: mobile,
            password: password,

            sid: local.temp_sid,
            ...(this.is ? &#123; is: this.is &#125; : &#123;&#125;)
        &#125;)
    &#125;
</code></pre>
<p>ä¿®æ”¹æ–‡ä»¶: xgen&#x2F;packages&#x2F;xgen&#x2F;pages&#x2F;login&#x2F;types.ts</p>
<pre><code class="jsx">// line 17
export interface ReqLogin &#123;
    email?: string
    mobile?: string
    is?: string
    sid: string
    password: string
    // captcha: &#123;
    // 	id: string
    // 	code: string
    // &#125;
&#125;
</code></pre>
<p>ä¿®æ”¹æ–‡ä»¶: xgen&#x2F;packages&#x2F;xgen&#x2F;pages&#x2F;login&#x2F;admin&#x2F;index.tsx</p>
<pre><code class="jsx">// line 9
const Index = () =&gt; &#123;
    const [x] = useState(() =&gt; container.resolve(Model))

    useAsyncEffect(async () =&gt; &#123;
        await window.$app.Event.emit(&#39;app/getAppInfo&#39;)

        x.user_type = &#39;admin&#39;

        // x.getCaptcha()
    &#125;, [])

    return &lt;Common type=&#39;admin&#39; x=&#123;x&#125;&gt;&lt;/Common&gt;
&#125;
</code></pre>
<p>ä¿®æ”¹æ–‡ä»¶: xgen&#x2F;packages&#x2F;xgen&#x2F;pages&#x2F;login&#x2F;components&#x2F;Common&#x2F;components&#x2F;Form.tsx</p>
<pre><code class="jsx">//line 91
&lt;Item noStyle shouldUpdate&gt;
    &#123;() =&gt; (
    &lt;Button
        className=&#123;clsx([
            &#39;btn_login&#39;,
            !(
                (getFieldValue(&#39;mobile&#39;) &amp;&amp; getFieldValue(&#39;password&#39;))
                //&amp;&amp; getFieldValue(&#39;code&#39;)
            ) &amp;&amp; &#39;disabled&#39;
        ])&#125;
        type=&#39;primary&#39;
        htmlType=&#39;submit&#39;
        shape=&#39;round&#39;
        loading=&#123;loading&#125;
    &gt;
        &#123;messages.login.title&#125;
    &lt;/Button&gt;
)&#125;
&lt;/Item&gt;
</code></pre>
<p><strong>æ•ˆæœ</strong></p>
<p><img src="https://imgur-cloud.oss-cn-chengdu.aliyuncs.com/blog/202305241609134.png"></p>
<h2 id="æœ€å"><a href="#æœ€å" class="headerlink" title="æœ€å"></a>æœ€å</h2><p>é¡¹ç›®ç›®å‰ç¨³å®šè·‘äº†ä¸€æ®µæ—¶é—´äº†ï¼Œæ²¡æœ‰å‡ºç°è¿‡ä»€ä¹ˆé—®é¢˜ï¼Œä½†æ˜¯å®ç°çš„è¿‡ç¨‹å¹¶ä¸æ˜¯é‚£ä¹ˆçš„é¡ºåˆ©ï¼Œè¦å®ç°ä¸€ä¸ªå®Œæ•´çš„ä¸šåŠ¡ç³»ç»Ÿï¼Œæˆ‘ç›¸ä¿¡ä¸Šé¢çš„éœ€æ±‚æ˜¯æœ€åŸºæœ¬çš„ã€‚</p>
<p>è¿˜æœ‰ä¸€äº›æƒé™çš„ä¿®æ”¹ï¼Œè®©é¡µé¢å¯ä»¥æ”¯æŒæƒé™æ˜¾ç¤ºå’Œéšè—ä¸€äº›åŠŸèƒ½ï¼Œåœ¨è¿™ä¹‹å‰åªèƒ½æ§åˆ¶çš„åªæœ‰æ•°æ®ã€‚ä»¥åŠå¢åŠ å¿«é€Ÿå½•å…¥æ•°æ®çš„é¡µé¢ ç­‰ç­‰ è¿™å…¶ä¸­ä»£ç ä¸­å…³è”äº†å…¬å¸ä¸šåŠ¡ï¼Œæ‰€ä»¥è¿™é‡Œå°±ä¸è´´å‡ºæ¥äº†ã€‚</p>
<p>ä¹‹å‰çœ‹è¿‡ illacloud ï¼Œä½†æ˜¯è¿™ä¸ªä¸œè¥¿å¹¶ä¸é‚£ä¹ˆç®€å•ï¼Œè¦å®ç°ä¸€ä¸ªå®Œæ•´ä¸šåŠ¡ç³»ç»Ÿå¯èƒ½æ¯”è¾ƒå›°éš¾ï¼Œæˆ‘æœ€åœ¨æ„çš„ ui ç‰¹åˆ«ä¸‘ï¼Œæ— æ³•è°ƒè¯•ï¼Œæ¯”å¦‚ä¸€ä¸ªèœå•æ”¾ä¸Šå» å°±é‚£ä¸ªæ ·å¼äº†ï¼Œæ— æ³•è°ƒæ•´å­—ä½“å¤§å°ï¼Œè¾¹æ¡† èœå•èƒŒæ™¯ ç­‰ç­‰ã€‚</p>
<p>illacloud è¿™ç§å¯èƒ½æ›´é€‚åˆå•ä¸ªé¡µé¢å¿«é€Ÿçš„å±•ç¤ºä¸€äº›æ•°æ®ï¼Œé¡µé¢ä¹‹é—´æ˜¯æ— çŠ¶æ€çš„ï¼ŒåŠŸèƒ½æ¯”è¾ƒå¼ºå¤§ï¼Œè¿˜æ”¯æŒè®­ç»ƒä¸šåŠ¡æ•°æ®ç„¶åè¿›è¡Œæé—®ï¼Œç±»ä¼¼ chatgptã€‚</p>
<p>å¾ˆæ„Ÿè°¢ yao å¼€æºé¡¹ç›®ï¼Œè®©æˆ‘äº†è§£ä½ä»£ç å¼•æ“çš„å®ç°åŸç†ï¼Œä»¥åŠå®ç°è¿‡ç¨‹ä¸­å¯èƒ½å‡ºç°çš„é—®é¢˜ã€‚å¼€æºé¡¹ç›®æ–‡æ¡£å¾ˆé‡è¦ï¼Œå¦‚æœè¿™ç§æ–¹å¼ DSL å­¦ä¹ æˆæœ¬ä½ä¸€ç‚¹ï¼Œæ–‡æ¡£å®Œå–„ä¸€ç‚¹ï¼ŒåŸºç¡€åŠŸèƒ½ç¨³å®šä¸€ç‚¹ï¼Œæˆ‘æ˜¯æœ€æ„¿æ„å»ä½¿ç”¨çš„ã€‚</p>
<p>æ¯”å¦‚è¿™é‡Œçš„ä¸€äº›è‡ªå¸¦çš„å¤„ç†å™¨</p>
<p><img src="https://imgur-cloud.oss-cn-chengdu.aliyuncs.com/blog202305242241921.png"></p>
<p>è¿™äº›å¤„ç†å™¨éƒ½æ˜¯æ‰¾ä¸åˆ°çš„ï¼Œå› ä¸ºå¤„ç†å™¨åç§°åé¢ä¿®æ”¹äº†ï¼Œæ–‡æ¡£å¹¶æ²¡æœ‰åŒæ­¥</p>
<pre><code class="go">gou.AliasProcess(&quot;xiang.main.Ping&quot;, &quot;utils.app.Ping&quot;)
gou.AliasProcess(&quot;xiang.main.Inspect&quot;, &quot;utils.app.Inspect&quot;)

// FMT
gou.AliasProcess(&quot;xiang.helper.Print&quot;, &quot;utils.fmt.Print&quot;)

// ENV
gou.AliasProcess(&quot;xiang.helper.EnvSet&quot;, &quot;utils.env.Get&quot;)
gou.AliasProcess(&quot;xiang.helper.EnvGet&quot;, &quot;utils.env.Get&quot;)
gou.AliasProcess(&quot;xiang.helper.EnvMultiSet&quot;, &quot;utils.env.SetMany&quot;)
gou.AliasProcess(&quot;xiang.helper.EnvMultiGet&quot;, &quot;utils.env.GetMany&quot;)

// Flow
gou.AliasProcess(&quot;xiang.helper.For&quot;, &quot;utils.flow.For&quot;)
gou.AliasProcess(&quot;xiang.helper.Each&quot;, &quot;utils.flow.Each&quot;)
gou.AliasProcess(&quot;xiang.helper.Case&quot;, &quot;utils.flow.Case&quot;)
gou.AliasProcess(&quot;xiang.helper.IF&quot;, &quot;utils.flow.IF&quot;)
gou.AliasProcess(&quot;xiang.helper.Throw&quot;, &quot;utils.flow.Throw&quot;)
gou.AliasProcess(&quot;xiang.helper.Return&quot;, &quot;utils.flow.Return&quot;)

// JWT
gou.AliasProcess(&quot;xiang.helper.JwtMake&quot;, &quot;utils.jwt.Make&quot;)
gou.AliasProcess(&quot;xiang.helper.JwtValidate&quot;, &quot;utils.jwt.Verify&quot;)
</code></pre>
<p>yao çš„å®ç°æ€è·¯æˆ‘è§‰å¾—æ¯”è¾ƒå¥½ï¼Œæ‰©å±•æ€§å¾ˆå¼ºï¼Œä½†æ˜¯åŸºç¡€æœåŠ¡å¹¶æ²¡æœ‰é‚£ä¹ˆå¤šå¥½ç”¨ã€‚æ¯”å¦‚æ•°æ®å¯¼å‡ºçš„è‡ªå®šä¹‰å¤„ç†å™¨æ— æ³•è·å–åˆ°æŸ¥è¯¢å‚æ•°ï¼Œç°åœ¨å¯¼å‡ºåªèƒ½å…¨éƒ¨å¯¼å‡ºã€‚å¦å¤–å…³äºé¡µé¢å¤šæ¬¡è§¦å‘ç‚¹å‡»çš„é—®é¢˜ï¼Œè¿™ä¸ªæˆ‘ç›®å‰æ²¡æœ‰æ—¶é—´å»æ”¹äº† æš‚æ—¶å…ˆè¿™æ ·ç”¨å§ã€‚</p>
<p>æ¥ä¸‹æ¥çš„åç»­å°±æ˜¯ï¼Œæˆ‘æ˜¯ç»™è‡ªå·±æ‰¾äº‹æƒ…å¹²æ¥ç€ï¼ŒåæœŸè®¡åˆ’è¿˜æ˜¯å…ˆè‡ªå·±å®ç°ï¼Œyao å¼•æ“çš„æ•°æ®åº“å¯ä»¥ç›´æ¥ç”¨ï¼Œå› ä¸ºæ˜¯åº•å±‚æ˜¯ xormï¼Œæ‰€ä»¥è¿˜æ˜¯æ¯”è¾ƒç®€å•æ‰©å±•ã€‚<br>è¿™æ¬¡å¹¶æ²¡æœ‰èŠ‚çº¦æˆ‘çš„æ—¶é—´ï¼Œç›¸å èŠ±çš„æ—¶é—´æ›´å¤šäº†ï¼Œä»é¢å‘ä»£ç ç¼–ç¨‹å˜æˆäº†é¢å‘ DSL ç¼–ç¨‹ã€‚æ”¶è·å¹¶ä¸æ˜¯æ²¡æœ‰ï¼Œä½†æ˜¯ä¸å¤šã€‚</p>
<p>ä¸‹ä¸€æ¬¡ä½ä»£ç å¹³å°æˆ‘ä¼šé€‰æ‹©è…¾è®¯å¾®æ­ã€‚</p>

            </article>
            

            
            
                <!-- 
<div class="comments">
    <div id="gitalk-container"></div>
        
<script src="/js/gitalk.js"></script>

        <script>
            var gitalk = new Gitalk({
                clientID: "",
                clientSecret: "",
                repo: '',
                owner: '',
                admin: [''],
                id: decodeURI('/2023/05/24/yao-engine/'),
            })
        gitalk.render('gitalk-container')
        </script>
</div>
 -->
            

        </div>
        <div class="column one-fourth">
            
                
                


<h3>Post Directory</h3>

<div id="post-directory-module">
	<section class="post-directory">
		<p><strong class="toc-title">æ–‡ç« ç›®å½•</strong></p>
		<ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%B8%A9%E5%9D%91%E8%AE%B0%E5%BD%95"><span class="toc-text">è¸©å‘è®°å½•</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%99%BB%E9%99%86%E4%BF%A1%E6%81%AF%E8%8E%B7%E5%8F%96"><span class="toc-text">ç™»é™†ä¿¡æ¯è·å–</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E6%9D%83%E9%99%90%E6%8E%A7%E5%88%B6"><span class="toc-text">æ•°æ®æƒé™æ§åˆ¶</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%BA%90%E7%A0%81%E7%BC%96%E8%AF%91"><span class="toc-text">æºç ç¼–è¯‘</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%87%AA%E5%AE%9A%E4%B9%89%E5%AF%BC%E5%87%BA"><span class="toc-text">è‡ªå®šä¹‰å¯¼å‡º</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%A2%9E%E5%8A%A0%E4%B8%AD%E6%96%87%E8%BD%AC%E6%8B%BC%E9%9F%B3"><span class="toc-text">å¢åŠ ä¸­æ–‡è½¬æ‹¼éŸ³</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%A7%A3%E5%86%B3%E7%BB%9F%E8%AE%A1%E5%9B%BE-NumbearChart-%E5%80%BC%E9%94%99%E8%AF%AF"><span class="toc-text">è§£å†³ç»Ÿè®¡å›¾ NumbearChart å€¼é”™è¯¯</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%96%B0%E7%AA%97%E5%8F%A3%E6%89%93%E5%BC%80%E5%90%8E-token-%E6%B6%88%E5%A4%B1"><span class="toc-text">æ–°çª—å£æ‰“å¼€å token æ¶ˆå¤±</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Select-%E8%BF%9C%E7%A8%8B%E6%90%9C%E7%B4%A2%E5%A4%AA%E6%85%A2"><span class="toc-text">Select è¿œç¨‹æœç´¢å¤ªæ…¢</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8E%BB%E6%8E%89%E4%B8%9A%E5%8A%A1%E5%8A%A9%E6%89%8B%E5%92%8C%E7%99%BB%E5%BD%95%E9%AA%8C%E8%AF%81%E7%A0%81"><span class="toc-text">å»æ‰ä¸šåŠ¡åŠ©æ‰‹å’Œç™»å½•éªŒè¯ç </span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%9C%80%E5%90%8E"><span class="toc-text">æœ€å</span></a></li></ol>
	</section>
</div>
            
        </div>
    </div>
</section>

<footer class="container">
    <div class="site-footer" role="contentinfo">
        <div class="copyright left mobile-block">
                Â© 2016
                <span title="yumemor">yumemor</span>
                <a href="javascript:window.scrollTo(0,0)" class="right mobile-visible">TOP</a>
        </div>

        <ul class="site-footer-links right mobile-hidden">
            <li>
                <a href="javascript:window.scrollTo(0,0)" >TOP</a>
            </li>
        </ul>

        <a href="https://github.com/yumemor/hexo-theme-primer" target="_blank" aria-label="view source code">
            <span class="mega-octicon octicon-mark-github" title="GitHub"></span>
        </a>

        <ul class="site-footer-links mobile-hidden">
            
                  
                  <li>
                    <a href="/"  title="Home">Home</a>
                  </li>
            
                  
                  <li>
                    <a href="/open-source/"  title="Open-Source">Open-Source</a>
                  </li>
            
            <li>
                <a href="/atom.xml">
                    <span class="octicon octicon-rss" style="color:orange;"></span>
                </a>
            </li>
        </ul>
    </div>
</footer>

		
<script src="/js/geopattern.js"></script>

		
<script src="/js/highlight.pack.js"></script>

		
<script src="/lib/fancybox/jquery.fancybox-1.3.4.pack.js"></script>


		
			
<script src="/js/toc.js"></script>

		

		
<script src="/js/index.js"></script>


		 
<script src="/js/popular_repo.js"></script>
 

	</body>
</html>